<html>
<head>
<meta charset="utf-8">

<script src="js/jquery-1.12.3.js" type="text/javascript"></script>
<script src="js/jquery.autocomplete.js" type="text/javascript"></script>

<link rel="stylesheet" href="css/bootstrap4.4.1.min.css" />
<link rel="stylesheet" href="css/fontawesome.min.css" />
<link rel="stylesheet" href="css/solid.css" />

<!-- <link href="css/main.css" rel="stylesheet"> -->
</head>

<body>

<div class="container">
    <div class="row d-flex flex-column align-content-center">
        <div class="col-md-8 login-card">
            <div class="card">
                <div class="card-body">
                   <div class="welcome-login text-center">
						<h3>CIM 10 TEST</h3>
                   </div>

                   <form id="propositionModel" action="/localhost/toto.php" method="POST">
                
						<div class="input-group mb-2">
							<div class="input-group-prepend">
								<i class="input-group-text fa fa-search"></i>
							</div>
							<input type="text" id="w-input-search" class="form-control"
								onkeyup="selection()" placeholder="Rechercher une maladie..."
								aria-describedby="inputSuccess2Status">
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

<script>
  $(document).ready(function() {

	$('#w-input-search').autocomplete({
		serviceUrl: 'http://localhost/enquete_lam_2019/getCim10.php',
		paramName: "search",
		delimiter: ",",
	   transformResult: function(response) {
		    	
		return {      	
		  //must convert json to javascript object before process
		  suggestions: $.map($.parseJSON(response), function(item) {
		            	
		      return { value: item.tagName, data: item.id };
		   })
		            
		 };
		        
         }
		    
	 });
				
  });
  

  function selection() {
      var input, filter, ul, li, a, i, txtValue;
      input = document.getElementById("w-input-search");
      sel = input.value();
      
      alert(sel);
      
  }
</script>
	
</body>
</html>
